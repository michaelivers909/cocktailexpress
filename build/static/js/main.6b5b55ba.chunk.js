(this.webpackJsonpcocktails=this.webpackJsonpcocktails||[]).push([[0],{44:function(e,t,n){},56:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),s=n.n(c),i=(n(44),n(5)),o=n.n(i),u=n(12),l=n(6),d=n(15),h=[{view:"Whiskey",value:"whiskey"},{view:"Vodka",value:"vodka"},{view:"Gin",value:"gin"},{view:"Scotch",value:"scotch"},{view:"Tequila",value:"tequila"},{view:"Rum",value:"rum"},{view:"Brandy",value:"brandy"},{view:"Cognac",value:"cognac"},{view:"Schnapps",value:"schnapps"}],j="Set User",b="Clear User";function v(e){return{type:j,username:e}}function p(){return{type:b}}var O="Add Saved",m="Delete Saved";function g(e){return{type:m,id:e}}var x="Set Search";var f=n(4),k=n(1),w=function(e){var t=e.drink,n=e.gif,r=e.addSaved,a=e.deleteSaved,c=e.isSaved;return Object(k.jsxs)("div",{className:"drink-container background-everything",children:[Object(k.jsx)("img",{className:"img-gif center",src:n,alt:"drunk gif"}),Object(k.jsx)("h3",{children:t.drink}),Object(k.jsx)("img",{className:"img-drink center",src:t.thumbnail}),Object(k.jsx)("div",{children:t.ingredients.map((function(e,t){return Object(k.jsxs)("div",{children:["Ingredient ",t+1,": ",e.ingredient,", \xa0\xa0 Measurement:"," ",e.measure]})}))}),Object(k.jsx)("div",{children:t.instructions}),!c&&Object(k.jsxs)("button",{onClick:function(e){e.preventDefault(),r(n,t)},children:[" ","Save This Cocktail!"]}),c&&Object(k.jsxs)("button",{className:"",onClick:function(e){e.preventDefault(),a(t.id)},children:[" ","Delete From Saved Cocktails"]})]})},S={setSearch:function(e){return{type:x,search:e}},setUser:v,addSaved:function(e,t){return{type:O,saved:t,gif:e}},deleteSaved:g};var y=Object(f.c)((function(e){return{globalState:e,gif:e.gif,drinks:e.search,saved:e.saved}}),S)((function(e){var t=Object(r.useState)(""),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(l.a)(s,2),j=i[0],b=i[1],v=Object(r.useState)(""),p=Object(l.a)(v,2),O=p[0],m=p[1],g=Object(r.useState)(""),x=Object(l.a)(g,2),f=x[0],S=x[1],y=Object(r.useState)(""),C=Object(l.a)(y,2),N=C[0],D=C[1],F=Object(r.useMemo)((function(){return e.saved.map((function(e){return e.id}))}),[e.saved]);function I(){return(I=Object(u.a)(o.a.mark((function t(n){var r,a,s,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://www.thecocktaildb.com/api/json/v2/9973533/search.php?s=".concat(n),t.prev=1,m(""),t.next=5,fetch(r);case 5:return a=t.sent,t.next=8,a.json();case 8:s=t.sent,i=s.drinks.map((function(e){for(var t=[],n=1;n<=15;n++)null!==e["strIngredient".concat(n)]&&t.push({ingredient:e["strIngredient".concat(n)],measure:e["strMeasure".concat(n)]});return{drink:e.strDrink,thumbnail:e.strDrinkThumb,ingredients:t,instructions:e.strInstructions,id:e.idDrink}})),console.log(i),e.setSearch(i),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),m("Something went wrong. Check your search parameters."),c([]);case 18:case"end":return t.stop()}}),t,null,[[1,14]])})))).apply(this,arguments)}function T(){return(T=Object(u.a)(o.a.mark((function t(n){var r,a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://www.thecocktaildb.com/api/json/v2/9973533/filter.php?i=".concat(n),t.prev=1,m(""),t.next=5,fetch(r);case 5:return a=t.sent,t.next=8,a.json();case 8:c=t.sent,s=c.drinks.map((function(e){for(var t=[],n=1;n<=15;n++)null!==e["strIngredient".concat(n)]&&t.push({ingredient:e["strIngredient".concat(n)],measure:e["strMeasure".concat(n)]});return{drink:e.strDrink,thumbnail:e.strDrinkThumb,ingredients:t,instructions:e.strInstructions,id:e.idDrink}})),i=Object(d.a)(s).sort((function(){return.5-Math.random()})),u=i.slice(0,5),console.log(u),e.setSearch(u),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(1),m("Something went wrong. Check your search parameters."),b([]);case 20:case"end":return t.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}function U(){return(U=Object(u.a)(o.a.mark((function t(){var n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://www.thecocktaildb.com/api/json/v2/9973533/random.php",t.prev=1,m(""),t.next=5,fetch("https://www.thecocktaildb.com/api/json/v2/9973533/random.php");case 5:return n=t.sent,t.next=8,n.json();case 8:r=t.sent,a=r.drinks.map((function(e){for(var t=[],n=1;n<=15;n++)null!==e["strIngredient".concat(n)]&&t.push({ingredient:e["strIngredient".concat(n)],measure:e["strMeasure".concat(n)]});return{drink:e.strDrink,thumbnail:e.strDrinkThumb,ingredients:t,instructions:e.strInstructions,id:e.idDrink}})),e.setSearch(a),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),m("Something went wrong. Check your search parameters."),D([]);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}function L(){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.giphy.com/v1/gifs/random?api_key=pNd73F2GiTlIEcEnhFBLj9s6WZboo1qp&tag=drunk&rating=pg",e.next=3,fetch("https://api.giphy.com/v1/gifs/random?api_key=pNd73F2GiTlIEcEnhFBLj9s6WZboo1qp&tag=drunk&rating=pg");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r=n.data.images.original.url,console.log(n),S(r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"background-everything text-center",children:[Object(k.jsxs)("form",{className:"form-container",children:[Object(k.jsx)("h1",{children:"Search By Cocktail or Alcohol Type"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:Object(k.jsx)("label",{htmlFor:"query",children:"Enter A Cocktail Name"})}),Object(k.jsx)("input",{value:a,onChange:function(e){return c(e.target.value)},type:"text",id:"query",placeholder:"Cocktail Name"})]}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"submit",onClick:function(e){e.preventDefault(),function(e){I.apply(this,arguments)}(a),L()},children:"I'm Thirsty!"})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:Object(k.jsx)("label",{htmlFor:"alcohol",children:"Choose an Alcohol Type"})}),Object(k.jsx)("div",{children:Object(k.jsxs)("select",{onChange:function(e){b(e.target.value),console.log(e.target.value)},children:[";",h.map((function(e){return Object(k.jsx)("option",{value:e.value,children:e.view},e.value)}))]})})]}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"submit",onClick:function(e){e.preventDefault(),function(e){T.apply(this,arguments)}(j),L()},children:"Get Me a Drink!"})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:Object(k.jsx)("label",{children:"Get a Random Cocktail"})}),Object(k.jsx)("button",{className:"submit",onClick:function(e){e.preventDefault(),function(){U.apply(this,arguments)}(N),L()},children:"Get Me Anything!"})]})]}),Object(k.jsxs)("div",{children:[O.length>0&&Object(k.jsx)("h1",{children:O}),0===O.length&&e.drinks.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h2",{children:"Cocktail Results"}),Object(k.jsx)("div",{children:e.drinks.map((function(t){return Object(k.jsx)(w,{gif:f,drink:t,isSaved:F.includes(t.id),deleteSaved:e.deleteSaved,addSaved:e.addSaved},t.id)}))}),Object(k.jsx)("button",{onClick:function(e){e.preventDefault(),window.scrollTo(0,0)},children:"Back to Top"}),Object(k.jsx)("div",{})]})]})]})})})),C=n(13),N=n(3),D={deleteSaved:g};var F=Object(f.c)((function(e){return{saved:e.saved}}),D)((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"background-everything text-center",children:[Object(k.jsx)("h1",{children:"Saved Cocktails"}),Object(k.jsx)("div",{children:e.saved.map((function(t){return Object(k.jsx)(w,{gif:t.gif,drink:t,isSaved:!0,deleteSaved:e.deleteSaved},t.id)}))})]})})})),I=n.p+"static/media/bartender2.e552bdb9.png",T={setUser:v};var U=Object(f.c)((function(e){return{}}),T)((function(e){var t=Object(N.g)(),n=Object(r.useState)(""),a=Object(l.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),d=Object(l.a)(i,2),h=d[0],j=d[1],b=Object(r.useState)(""),v=Object(l.a)(b,2),p=v[0],O=v[1];function m(){return(m=Object(u.a)(o.a.mark((function n(){var r,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(O(""),!(c.length<7||c.length>16||h.length>20||h.length<7)){n.next=4;break}return O("Username must be between 7 and 16 characters and Password must be between 7 and 20 characters"),n.abrupt("return");case 4:return n.prev=4,n.next=7,fetch("/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:h})});case 7:return r=n.sent,n.next=10,r.json();case 10:(a=n.sent).error?O(a.error):(e.setUser(a.data.username),t.push("/search")),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(4),O("Something went wrong, please try again later."),console.log(n.t0);case 18:e.setUser(c),t.push("/Search");case 20:case"end":return n.stop()}}),n,null,[[4,14]])})))).apply(this,arguments)}return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("form",{className:"text-center form-container",children:[Object(k.jsx)("h1",{children:"Thirsty? Login For a Drink!"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{htmlFor:"username",children:"Username"}),Object(k.jsx)("input",{type:"text",placeholder:"Username",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{htmlFor:"password",children:"Password"}),Object(k.jsx)("input",{type:"Password",placeholder:"Enter Password",value:h,onChange:function(e){return j(e.target.value)}}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),function(){m.apply(this,arguments)}()},children:"Log In"}),Object(k.jsx)("div",{children:Object(k.jsx)(C.b,{to:"/signup",children:"Not a user? Signup here"})}),p.length>0&&Object(k.jsx)("h3",{style:{color:"red"},className:"text-center",children:p})]})]})]}),Object(k.jsx)("div",{className:"bk-img",style:{backgroundImage:"url(".concat(I,")")}})]})})),L={saved:[],query:[],user:{username:"",id:null,role:""}},P=n(17),E=n(14),M={username:""};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(E.a)(Object(E.a)({},e),{},{username:t.username});case b:return Object(E.a)(Object(E.a)({},e),{},{username:""});default:return e}};var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(t.search);default:return e}};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return[].concat(Object(d.a)(e),[Object(E.a)(Object(E.a)({},t.saved),{},{gif:t.gif})]);case m:var n=Object(d.a)(e),r=n.findIndex((function(e){return e.id===t.id}));return n.splice(r,1),n;default:return e}},G=Object(P.b)({search:B,user:q,saved:A}),J=Object(P.c)(G),R=(n(56),n(22)),W=n.n(R),Z=n(28),_=function(e){return e.user.username},V={setUser:v};var z=Object(f.c)((function(e){return{}}),V)((function(e){var t=Object(N.g)(),n=Object(r.useState)(""),a=Object(l.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),d=Object(l.a)(i,2),h=d[0],j=d[1],b=Object(r.useState)(""),v=Object(l.a)(b,2),p=v[0],O=v[1];function m(){return(m=Object(u.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(O(""),!(c.length<7||c.length>16||h.length>20||h.length<7)){n.next=4;break}return O("Username must be between 7 and 16 characters and Password must be between 7 and 20 characters"),n.abrupt("return");case 4:return n.prev=4,n.next=7,W.a.post("/users/signup",{username:c,password:h});case 7:r=n.sent,console.log(r),r.data.error?O(r.data.error):(e.setUser(r.data.data.username),t.push("/search")),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),O("Something went wrong, please try again later.");case 15:case"end":return n.stop()}}),n,null,[[4,12]])})))).apply(this,arguments)}return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("form",{className:"text-center form-container",children:[Object(k.jsx)("h1",{children:"Create an Account To Start Looking Up Cocktails!"}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{htmlFor:"username",children:"Create Username"}),Object(k.jsx)("input",{type:"text",placeholder:"Create Username",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{htmlFor:"password",children:"Create Password"}),Object(k.jsx)("input",{type:"Password",placeholder:"Enter Password",value:h,onChange:function(e){return j(e.target.value)}}),Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),function(){m.apply(this,arguments)}()},children:"Sign Up"}),p.length>0&&Object(k.jsx)("h3",{style:{color:"red"},className:"text-center",children:p})]})]})]}),Object(k.jsx)("div",{className:"bk-img",style:{backgroundImage:"url(".concat(I,")")}})]})}));var H=function(){var e=Object(r.useState)(L),t=Object(l.a)(e,2),n=(t[0],t[1],Object(Z.b)(_)),a=(Object(l.a)(n,1)[0],Object(Z.a)(p,v)),c=Object(l.a)(a,2),s=(c[0],c[1]);return Object(r.useEffect)(Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("/authenticate");case 3:(t=e.sent).data.success&&s(t.data.data.username),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Object(k.jsx)(C.a,{children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("nav",{className:"navContainer",children:[Object(k.jsx)(C.b,{to:"/Login",className:" navLink text-center",activeClassName:"active-link",children:"Login"}),Object(k.jsx)(C.b,{to:"/Search",className:"navLink text-center",activeClassName:"active-link",children:"Search"}),Object(k.jsx)(C.b,{to:"/Saved",className:" navLink text-center",activeClassName:"active-link",children:"Saved Cocktails"})]}),Object(k.jsx)("main",{children:Object(k.jsxs)(N.d,{children:[Object(k.jsx)(N.b,{path:"/Login",component:U}),Object(k.jsx)(N.b,{path:"/SignUp",component:z}),Object(k.jsx)(N.b,{path:"/Search",component:y}),Object(k.jsx)(N.b,{path:"/Saved",component:F}),Object(k.jsx)(N.b,{path:"*",children:Object(k.jsx)(N.a,{to:"/Search"})})]})})]})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(f.a,{store:J,children:Object(k.jsx)(H,{})})}),document.getElementById("root")),K()}},[[75,1,2]]]);
//# sourceMappingURL=main.6b5b55ba.chunk.js.map